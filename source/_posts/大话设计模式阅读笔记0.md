---
title: 大话设计模式阅读笔记0
date: 2019-01-15
tags: [阅读笔记, 设计模式，python]
---


[《大话设计模式》](https://item.jd.com/10079261.html)这本书买了很久，但是一直没有坚持看完。毕业之后，丢了很多书在学校，但是这本书没有舍得丢下。现在看来当初是明智的，再次阅读的时候，才发现这本书浅显易懂，有趣，通过一个个小故事，缓缓道来设计模式的妙用。在阅读的时候，有很多的收获，其实说的这些模式，虽然没有真正的去了解，但是发现在开发过程中，很多都是常用到的，没有总结出来而已。在阅读的过程中，很多时候有感，但是又觉得差一点就能突破。在这里做下阅读笔记，算是阅读的输出。


原书中的代码都是用C#是实现的，在阅读的过程中，我根据对Python的掌握进行了转换。 [demo仓库地址](https://github.com/suAdminWen/studyForPython/tree/master/design_patterns/dahua)

<!--more-->

# 设计模式的基本原则

## 开放-封闭原则

** 对于拓展是开放的，对于更改是封闭的。 **


无论模块是多么的封闭，都会存在一些无法对之封闭的变化，既然不可能完全封闭，设计人员必须对于他设计的模块应该对哪种变化做出选择。他必须先猜测出最有可能发生的种类，然后构造抽象来隔离那些变化。

面对需求，对程序的改动是通过新代码进行的，而不是更改现有的代码。

拒绝不成熟的抽象和抽象本省一样重要。

## 单一职责原则

** 就一个类而言，应该仅有一个引起它变化的原因。 **


软件设计真正要做的许多内容，就是发现职责并把这些职责分离。其实要去判断是否应该分离出类来，也不难，那就是你能够想到对于一个动机去改变一个类，那么这个类就是具有多于一个的职责。

## 依赖倒转原则

** A、高层模块不应该依赖低层模块，两个都应该依赖抽象 **
** B、抽象不应该依赖细节。细节应该依赖抽象。 **

依赖倒转原则其实可以说是面向对象设计的标志，用哪种语言来写程序不重要，如果编写时，考虑都是如何针对抽象编程而不是针对细节编程，即程序中所有的依赖关系都是终止于抽象类，或者接口，那就是面向对象的设计，反之就是过程化的设计了。

## 里氏替换原则

** 子类必须能够替换掉它们的父类。换句话你说，任何基类可以出现的地方，子类一定可以出现。 ** 里氏替换原则是继承复用的基石，只有当衍生类可以替换基类，软件单位的功能不受到影响时，基类才能真正被复用，而衍生类也能够在基类的基础上增加新的行为。

里氏代换原则是对“开-闭”原则的补充。实现“开闭”原则的关键步骤就是抽象化。而基类与子类的继承关系就是抽象化的具体实现，所以里氏代换原则是对实现抽象化的具体步骤的规范。里氏替换原则中，子类对父类的方法尽量不要重写和重载。因为父类代表了定义好的结构，通过这个规范的接口与外界交互，子类不应该随便破坏它。

## 迪米特法则(最少知道原则)

** 一个类对自己依赖的类知道的越少越好。 **

无论被依赖的类多么复杂，都应该将逻辑封装在方法的内部，通过公用方法提供给外部。这样当被依赖的类变化时，才能最少的影响该类。

最少知道原则的另外一个表达方式是：只与直接的朋友通信，类之间只要有耦合关系，就叫朋友关系。耦合分为依赖、关联、聚合、组合等。我们称出现为成员变量、方法参数、方法返回值中的类为直接朋友。局部变量、临时变量则不是直接关系。我们要求陌生的类不要作为局部变量出现在类中。

迪米特法则是面向对象的根本思想，是强调了类的松耦合关系。类之间的耦合越弱，越有利于复用，一个处在弱耦合的类被修改，不会对关系的类造成波及。

## 合成复用原则

** 尽量首先使用合成\聚合的方式，而不是使用继承。 **


# 设计模式分类：

- 创建型模式，共五种：工厂方法模式、抽象工厂模式、单例模式、建造者模式、原型模式。
- 结构型模式，共七种：适配器模式、装饰器模式、代理模式、外观模式、桥接模式、组合模式、享元模式。
- 行为型模式，共十一种：策略模式、模板方法模式、观察者模式、迭代子模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式。


参考

- [23种设计模式汇总整理](https://blog.csdn.net/jason0539/article/details/44956775)
